---
include:
  - ../components/caddy_network.yaml

#volumes:

#secrets:

services:
  openwebui:
    image: ghcr.io/open-webui/open-webui:latest@sha256:000b87a6ae726aa7f6611a0064ba528ba1a6aff6ead5fb3b6c89fd4a5717eb8a #https://github.com/open-webui/open-webui/pkgs/container/open-webui/526750706?tag=latest
    pull_policy: ${pull_policy}
    container_name: ${openwebui_container_name}
    restart: ${restart}
    networks:
      - caddy
    ports:
      - "${openwebui_port_8080}:8080"
    environment: 
      - 'OLLAMA_BASE_URL=https://ollama.${CADDY_PRIVATE_DOMAIN}'
    volumes:
      - /${docker_dir}/${openwebui_container_name}/data:/app/backend/data
